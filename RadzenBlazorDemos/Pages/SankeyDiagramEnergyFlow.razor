@using Radzen.Blazor
@using System.Collections.Generic

<div class="rz-p-0 rz-p-md-12">
    <RadzenSankeyDiagram TItem="FlowData"
                       Data="@energyFlows" 
                       SourceProperty="Source"
                       TargetProperty="Target"
                       ValueProperty="Value"
                       SourceLabelProperty="SourceLabel"
                       TargetLabelProperty="TargetLabel"
                       NodeFills="@energyColors"
                       NodeWidth="24" NodePadding="8"
                       NodeAlignment="SankeyAlignment.Justify">
    </RadzenSankeyDiagram>
</div>

@code {
    public class FlowData
    {
        public string Source { get; set; }
        public string Target { get; set; }
        public double Value { get; set; }
        public string SourceLabel { get; set; }
        public string TargetLabel { get; set; }
    }
    
    private List<FlowData> energyFlows = new List<FlowData>
    {
        // Sources to conversion
        new FlowData { Source = "coal", SourceLabel = "Coal", Target = "electricity", TargetLabel = "Electricity", Value = 45 },
        new FlowData { Source = "coal", SourceLabel = "Coal", Target = "heat", TargetLabel = "Heat", Value = 15 },
        new FlowData { Source = "gas", SourceLabel = "Natural Gas", Target = "electricity", TargetLabel = "Electricity", Value = 30 },
        new FlowData { Source = "gas", SourceLabel = "Natural Gas", Target = "heat", TargetLabel = "Heat", Value = 25 },
        new FlowData { Source = "nuclear", SourceLabel = "Nuclear", Target = "electricity", TargetLabel = "Electricity", Value = 35 },
        new FlowData { Source = "renewable", SourceLabel = "Renewable", Target = "electricity", TargetLabel = "Electricity", Value = 25 },
        
        // Conversion to end use
        new FlowData { Source = "electricity", SourceLabel = "Electricity", Target = "residential", TargetLabel = "Residential", Value = 40 },
        new FlowData { Source = "electricity", SourceLabel = "Electricity", Target = "commercial", TargetLabel = "Commercial", Value = 35 },
        new FlowData { Source = "electricity", SourceLabel = "Electricity", Target = "industrial", TargetLabel = "Industrial", Value = 45 },
        new FlowData { Source = "electricity", SourceLabel = "Electricity", Target = "losses", TargetLabel = "Losses", Value = 15 },
        new FlowData { Source = "heat", SourceLabel = "Heat", Target = "residential", TargetLabel = "Residential", Value = 20 },
        new FlowData { Source = "heat", SourceLabel = "Heat", Target = "commercial", TargetLabel = "Commercial", Value = 10 },
        new FlowData { Source = "heat", SourceLabel = "Heat", Target = "industrial", TargetLabel = "Industrial", Value = 5 },
        new FlowData { Source = "heat", SourceLabel = "Heat", Target = "losses", TargetLabel = "Losses", Value = 5 },
        
        // Direct use
        new FlowData { Source = "gas", SourceLabel = "Natural Gas", Target = "transport", TargetLabel = "Transport", Value = 20 },
        new FlowData { Source = "renewable", SourceLabel = "Renewable", Target = "transport", TargetLabel = "Transport", Value = 5 }
    };
    
    private List<string> energyColors = new List<string>
    {
        "#525252", "#3B82F6", "#10B981", "#06B6D4", "#F59E0B", "#EF4444", 
        "#8B5CF6", "#EC4899", "#6366F1", "#14B8A6", "#9CA3AF"
    };
}