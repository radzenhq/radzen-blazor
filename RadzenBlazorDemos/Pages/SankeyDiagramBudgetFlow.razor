@using Radzen.Blazor
@using System.Collections.Generic

<div class="rz-p-0 rz-p-md-12">
    <RadzenSankeyDiagram TItem="FlowData"
                       Data="@budgetFlows" 
                       SourceProperty="Source"
                       TargetProperty="Target"
                       ValueProperty="Value"
                       SourceLabelProperty="SourceLabel"
                       TargetLabelProperty="TargetLabel"
                       NodeFills="@budgetColors"
                       NodeWidth="24" NodePadding="8"
                       NodeAlignment="SankeyAlignment.Justify">
    </RadzenSankeyDiagram>
</div>

@code {
    public class FlowData
    {
        public string Source { get; set; }
        public string Target { get; set; }
        public double Value { get; set; }
        public string SourceLabel { get; set; }
        public string TargetLabel { get; set; }
    }
    
    private List<FlowData> budgetFlows = new List<FlowData>
    {
        // Income to expenses
        new FlowData { Source = "salary", SourceLabel = "Salary", Target = "housing", TargetLabel = "Housing", Value = 2000 },
        new FlowData { Source = "salary", SourceLabel = "Salary", Target = "food", TargetLabel = "Food", Value = 800 },
        new FlowData { Source = "salary", SourceLabel = "Salary", Target = "transport_exp", TargetLabel = "Transportation", Value = 500 },
        new FlowData { Source = "salary", SourceLabel = "Salary", Target = "utilities", TargetLabel = "Utilities", Value = 300 },
        new FlowData { Source = "salary", SourceLabel = "Salary", Target = "entertainment", TargetLabel = "Entertainment", Value = 200 },
        new FlowData { Source = "salary", SourceLabel = "Salary", Target = "savings", TargetLabel = "Savings", Value = 1000 },
        new FlowData { Source = "salary", SourceLabel = "Salary", Target = "healthcare", TargetLabel = "Healthcare", Value = 200 },
        new FlowData { Source = "investment", SourceLabel = "Investments", Target = "savings", TargetLabel = "Savings", Value = 500 },
        new FlowData { Source = "investment", SourceLabel = "Investments", Target = "entertainment", TargetLabel = "Entertainment", Value = 100 },
        new FlowData { Source = "other", SourceLabel = "Other Income", Target = "food", TargetLabel = "Food", Value = 100 },
        new FlowData { Source = "other", SourceLabel = "Other Income", Target = "entertainment", TargetLabel = "Entertainment", Value = 100 }
    };
    
    private List<string> budgetColors = new List<string>
    {
        "#10B981", "#06B6D4", "#3B82F6", "#F59E0B", "#EF4444", 
        "#8B5CF6", "#EC4899", "#6366F1", "#10B981", "#14B8A6"
    };
}