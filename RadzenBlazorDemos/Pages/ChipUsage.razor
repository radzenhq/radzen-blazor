<RadzenStack class="rz-p-12" Gap="1.5rem">
    <RadzenStack Gap="0.5rem">
        <RadzenText TextStyle="TextStyle.Subtitle2">Appearance</RadzenText>
        <RadzenStack Orientation="Orientation.Horizontal" Wrap="FlexWrap.Wrap" Gap="0.75rem">
            <RadzenChip Text="Default" />
            <RadzenChip Text="Success" ChipStyle="BadgeStyle.Success" />
            <RadzenChip Text="Warning Outlined" ChipStyle="BadgeStyle.Warning" Variant="Variant.Outlined" />
            <RadzenChip Text="Selected" ChipStyle="BadgeStyle.Info" IsSelected="true" />
            <RadzenChip Text="Small" ChipStyle="BadgeStyle.Secondary" Size="ChipSize.Small" Icon="star" />
            <RadzenChip Text="Extra small" ChipStyle="BadgeStyle.Dark" Size="ChipSize.ExtraSmall" />
            <RadzenChip Text="Disabled" Disabled="true" Icon="block" />
        </RadzenStack>
    </RadzenStack>

    <RadzenStack Gap="0.5rem">
        <RadzenText TextStyle="TextStyle.Subtitle2">Events</RadzenText>
        <RadzenText TextStyle="TextStyle.Body2" class="rz-text-secondary-color">Click a chip to select it, or remove it with the close icon.</RadzenText>
        <RadzenStack Orientation="Orientation.Horizontal" Wrap="FlexWrap.Wrap" Gap="0.75rem">
            @foreach (var tag in tags)
            {
                <RadzenChip Text="@tag"
                            ChipStyle="BadgeStyle.Secondary"
                            CloseClick="@(args => RemoveTag(tag))"
                            Click="@(args => SelectTag(tag))"
                            IsSelected="@(selectedTag == tag)" />
            }
        </RadzenStack>
        <RadzenText TextStyle="TextStyle.Body2"><strong>Last event:</strong> @lastEvent</RadzenText>
    </RadzenStack>

    <RadzenStack Gap="0.5rem">
        <RadzenText TextStyle="TextStyle.Subtitle2">Removable chips</RadzenText>
        <RadzenText TextStyle="TextStyle.Body2" class="rz-text-secondary-color">Use the close button to remove a chip, or type a value and click Add.</RadzenText>
        <RadzenCard Variant="Variant.Outlined" class="rz-p-4">
            <RadzenStack Orientation="Orientation.Horizontal" Wrap="FlexWrap.Wrap" Gap="0.5rem" AlignItems="AlignItems.Center">
                <RadzenText TextStyle="TextStyle.Body2" Style="white-space: nowrap;" class="rz-text-secondary-color"><strong>To:</strong></RadzenText>
                @foreach (var recipient in recipients)
                {
                    <RadzenChip Text="@recipient"
                                Icon="person"
                                ChipStyle="BadgeStyle.Info"
                                CloseClick="@(args => RemoveRecipient(recipient))" />
                }
                <RadzenStack Orientation="Orientation.Horizontal" Gap="0.25rem" AlignItems="AlignItems.Center" Style="flex: 1; min-width: 12rem;">
                    <RadzenTextBox @bind-Value="@recipientInput" Placeholder="Add recipient email" Style="flex: 1;" @onkeydown="@OnRecipientKeyDown" />
                    <RadzenButton Text="Add" Icon="add" Click="@AddRecipient" Size="ButtonSize.Small" />
                </RadzenStack>
            </RadzenStack>
        </RadzenCard>
    </RadzenStack>
</RadzenStack>

@code {
    string selectedTag = string.Empty;
    string lastEvent = "none";
    string recipientInput = string.Empty;
    List<string> tags = new() { "Blazor", "Radzen", "Chip", "Component" };
    List<string> recipients = new() { "pedro@example.com", "john@example.com" };

    void SelectTag(string tag)
    {
        selectedTag = tag;
        lastEvent = $"Selected: {tag}";
    }

    void RemoveTag(string tag)
    {
        tags.Remove(tag);
        if (selectedTag == tag)
        {
            selectedTag = string.Empty;
        }
        lastEvent = $"Removed: {tag}";
    }

    void AddRecipient()
    {
        var candidate = recipientInput.Trim();
        if (!string.IsNullOrWhiteSpace(candidate) && !recipients.Contains(candidate))
        {
            recipients.Add(candidate);
            recipientInput = string.Empty;
        }
    }

    void OnRecipientKeyDown(KeyboardEventArgs args)
    {
        if (args.Key == "Enter")
        {
            AddRecipient();
        }
    }

    void RemoveRecipient(string recipient)
    {
        recipients.Remove(recipient);
    }
}
